{% extends 'base.html' %}

{% block content %}
  <h1>Feed</h1>
  <!-- Display the feed of posts and reviews here -->
  {% for item in feed %}
    {% if item.content_type.model == 'ticket' %}
      <h2>Ticket: {{ item.content_object.title }}</h2>
      <p>{{ item.content_object.description }}</p>
      <p>By: {{ item.content_object.author }}</p>
      <p>Created at: {{ item.content_object.created_at }}</p>
      <h2>Review: {{ item.review.headline }}</h2>
      <p>Rating: {{ item.review.rating }}/5</p>
      <p>{{ item.review.body }}</p>
      <p>By: {{ item.review.user }}</p>
      <p>Created at: {{ item.review.time_created }}</p>
    {% elif item.content_type.model == 'post' %}
      <h2>Post: {{ item.content_object.title }}</h2>
      <p>{{ item.content_object.body }}</p>
      <p>By: {{ item.content_object.user }}</p>
      <p>Created at: {{ item.content_object.time_created }}</p>
    {% endif %}
  {% endfor %}
{% endblock %}



